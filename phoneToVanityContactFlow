{"modules":[{"id":"559d86b9-fb4a-4dcc-a9ef-db78944ee759","type":"SetLoggingBehavior","branches":[{"condition":"Success","transition":"700059c8-045c-4098-8764-6a6678789a2b"}],"parameters":[{"name":"LoggingBehavior","value":"Enable"}],"metadata":{"position":{"x":182,"y":64}}},{"id":"68fdbed6-38c4-4963-a0d3-ede04c05d9db","type":"PlayPrompt","branches":[{"condition":"Success","transition":"76b4b0d8-56ee-4fe1-b694-dcf429bc18f1"}],"parameters":[{"name":"Text","value":"customerPhoneNumber","namespace":"External"},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":61,"y":521},"useDynamic":true}},{"id":"116dfca0-85d0-48be-b9ae-4382bafcb1e4","type":"PlayPrompt","branches":[{"condition":"Success","transition":"68fdbed6-38c4-4963-a0d3-ede04c05d9db"}],"parameters":[{"name":"Text","value":"Your phone number is","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":73,"y":335},"useDynamic":false}},{"id":"76b4b0d8-56ee-4fe1-b694-dcf429bc18f1","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"correctNumber","transition":"1a06bee8-469a-4dab-9861-fd4b1bcfc96c"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"wrongNumber","transition":"aa84a858-3047-418a-8ebf-bb972a3249f3"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"maybeNumber","transition":"aa84a858-3047-418a-8ebf-bb972a3249f3"},{"condition":"NoMatch","transition":"1a06bee8-469a-4dab-9861-fd4b1bcfc96c"},{"condition":"Error","transition":"13808e15-90f4-4e0e-9751-4bcf6d97e17f"}],"parameters":[{"name":"Text","value":"Is this phone number correct?","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"correctNumber"},{"name":"BotAlias","value":"$LATEST"},{"name":"BotRegion","value":"us-east-1"}],"metadata":{"position":{"x":59,"y":707},"conditionMetadata":[{"id":"8a840fd9-ae45-42fd-9e68-9a594b0b93da","value":"correctNumber"},{"id":"6083302c-474b-4884-8484-8aaeeff0b3d6","value":"wrongNumber"},{"id":"95979568-19d8-4efa-9c73-19352bb97945","value":"maybeNumber"}],"useDynamic":false,"dynamicMetadata":{},"useLexBotDropdown":true,"useDynamicLexBotArn":false,"lexV2BotName":"phoneToVanity"},"target":"Lex"},{"id":"aa84a858-3047-418a-8ebf-bb972a3249f3","type":"PlayPrompt","branches":[{"condition":"Success","transition":"1a06bee8-469a-4dab-9861-fd4b1bcfc96c"}],"parameters":[{"name":"Text","value":"We are sorry to hear the phone number may be different from the caller ID. Updates are coming soon.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":346,"y":599},"useDynamic":false}},{"id":"a4eb683b-cdc0-4f21-b504-c4252883dd78","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1282,"y":512}}},{"id":"944cdbd5-d810-43b4-b800-fe8e6d9f00db","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"116dfca0-85d0-48be-b9ae-4382bafcb1e4"},{"condition":"Error","transition":"13808e15-90f4-4e0e-9751-4bcf6d97e17f"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:004544307822:function:CdkDemoStack-repeatPhoneNumberE2EEC509-bLOxYl8v7EB6","namespace":null},{"name":"TimeLimit","value":"8"},{"name":"Parameter","key":"customerPhoneNumber","value":"Customer Number","namespace":"System"}],"metadata":{"position":{"x":1029,"y":72},"dynamicMetadata":{"customerPhoneNumber":true},"useDynamic":false},"target":"Lambda"},{"id":"13808e15-90f4-4e0e-9751-4bcf6d97e17f","type":"PlayPrompt","branches":[{"condition":"Success","transition":"a4eb683b-cdc0-4f21-b504-c4252883dd78"}],"parameters":[{"name":"Text","value":"There was an unexpected error. We apologize for the inconvenience. Goodbye.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1019,"y":889},"useDynamic":false}},{"id":"700059c8-045c-4098-8764-6a6678789a2b","type":"SetVoice","branches":[{"condition":"Success","transition":"da524d6f-3ea4-4522-b316-d0a6f10cfd87"}],"parameters":[{"name":"GlobalVoice","value":"Matthew"}],"metadata":{"position":{"x":433,"y":63},"overrideConsoleVoice":false,"defaultVoice":"Conversational"}},{"id":"da524d6f-3ea4-4522-b316-d0a6f10cfd87","type":"StoreUserInput","branches":[{"condition":"Success","transition":"944cdbd5-d810-43b4-b800-fe8e6d9f00db"},{"condition":"InvalidNumber","transition":"944cdbd5-d810-43b4-b800-fe8e6d9f00db"},{"condition":"Error","transition":"13808e15-90f4-4e0e-9751-4bcf6d97e17f"}],"parameters":[{"name":"Text","value":"Hello, thank you for calling.","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"CustomerInputType","value":"PhoneNumber"},{"name":"Timeout","value":"3"},{"name":"PhoneNumberFormat","value":"Local"},{"name":"CountryCode","value":"US"}],"metadata":{"position":{"x":718,"y":44},"useDynamic":false,"useDynamicForEncryptionKeys":true,"useDynamicForTerminatorDigits":false,"countryCodePrefix":"+1"}},{"id":"e96f1fd3-1f05-4d19-a359-64153fb87ce8","type":"PlayPrompt","branches":[{"condition":"Success","transition":"a4eb683b-cdc0-4f21-b504-c4252883dd78"}],"parameters":[{"name":"Text","value":"vanityNumbers","namespace":"External"},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":798,"y":368},"useDynamic":true}},{"id":"1a06bee8-469a-4dab-9861-fd4b1bcfc96c","type":"PlayPrompt","branches":[{"condition":"Success","transition":"631c745d-c8f9-4af2-9afd-6cf7f8dd7c54"}],"parameters":[{"name":"Text","value":"Please wait a moment to retrieve your possible vanity numbers.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":328,"y":349},"useDynamic":false}},{"id":"631c745d-c8f9-4af2-9afd-6cf7f8dd7c54","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"e96f1fd3-1f05-4d19-a359-64153fb87ce8"},{"condition":"Error","transition":"13808e15-90f4-4e0e-9751-4bcf6d97e17f"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:004544307822:function:CdkDemoStack-convertToVanity408FB404-aqYMDL9QOJUw","namespace":null},{"name":"TimeLimit","value":"8"},{"name":"Parameter","key":"customerPhoneNumber","value":"Customer Number","namespace":"System"}],"metadata":{"position":{"x":562,"y":353},"dynamicMetadata":{"customerPhoneNumber":true},"useDynamic":false},"target":"Lambda"}],"version":"1","start":"559d86b9-fb4a-4dcc-a9ef-db78944ee759","metadata":{"entryPointPosition":{"x":15,"y":15},"snapToGrid":false,"name":"phoneToVanity","description":null,"type":"contactFlow","status":"published","hash":"03face53a03309fd943dfbff7108868686a4f7ac54cc75b3d80ddfc6b085b4ba"},"type":"contactFlow"}